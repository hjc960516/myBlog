## nuxt Plugins

有`server`和`client`端的`plugins`,当然也有`全局plugins`,使用的是`defineNuxtPlugin(nuxtapp=>{})`进行注册,`nuxtapp`是保存了`双端`都可用的相关信息<br />

## 示例

在项目的`根目录下`创建`/plugins`目录，即可自动全导入，示例：定义一个`全局变量`并`使用`

### 创建`/plugins/test.ts`

```ts
export default defineNuxtPlugin((nuxtApp) => {
  const globalObj = {
    appName: "my-project-name",
  };
  // 暴露给全局, 第一个是key, 第二个是value
  // 获取时需要添加 $ ，如 $globalObj
  nuxtApp.provide("globalObj", globalObj);

  // 还有很多方法：vue示例、生命周期等等
  // 例如: vue实例. 可以获取到vue实例的所有方法和属性
  // nuxtApp.vueApp.xxx()
});
```

### 获取全局变量

使用`useNuxtApp()`获取

```vue
<template>
  <div>
    <div>使用全局plugins</div>
  </div>
</template>

<script setup lang="ts">
const { $globalObj } = useNuxtApp();
console.log($globalObj, 11111111111);
</script>

<style scoped></style>
```
