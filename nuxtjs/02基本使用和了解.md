## 安装项目

```sh
## 进入目标目录
cd <目标目录>

## 使用nuxt安装
npm create nuxt <project-name>

## 进入项目，安装依赖
cd <project-name>
npm install

## 启动项目, 具体看package.json文件
npm run dev -- -o
```

## 自动导入

有`多个模块是具备自动导入功能`, 也就是在根目录下建的文件夹, 如果在`.nuxt -> imports.d.ts` 文件中没监控到,需要重启服务

1. `pages`
2. `components`
3. `composables`
4. `utils`
5. `middleware`

## 项目结构

|- .nuxt 服务端代码
|- public 网站资源目录
|- server 接口服务器目录
|- .gitignore git 忽略文件
|- app.vue 根组件
|- pages 约定路由文件
|- components 自定义组件文件
|- composables 自定义 hooks 函数文件
|- utils 公共文件
|- nuxt.config.ts nuxt 配置文件
|- package.json 项目配置文件
|- tsconfig.json ts 配置文件
|- README.md 项目说明文件

## components

使用一个例子去验证是否会自动导入

### 新建组件

在`components`中新建组件`testComponents.vue`

```vue
<script lang="ts" setup>
// 自动导入 vue 和 nuxt 的内置函数
defineProps<{ message: string }>();
const num = ref(1);
const handlerNum = () => {
  num.value++;
  console.log("函数执行了，结果是---", num.value);
};
</script>
<template>
  <div class="container">
    <h1>测试 components 自动导入</h1>
    <h2>当前传入信息是-----{{ message }}</h2>
    <h2>当前传入数值是-----{{ num }}</h2>
    <button @click="handlerNum">增加</button>
  </div>
</template>
<style lang="scss" scoped></style>
```

### 使用

在`app.vue`或者其他组件中直接使用

```vue
<script lang="ts" setup></script>
<template>
  <div>
    <!-- 自定义测试components自动导入组件 -->
    <testComponents message="我是传过来的信息啊" />
  </div>
</template>
```

## composables

1. 在`composables`新建一个`handleKeyEvent.ts`的`hooks`

```ts
/**
 * 键盘事件
 * @parm key 键
 * @parm cb 回调函数
 */
const handleKeyEvent = (key: string, cb: () => any) => {
  const trigger = (event: keyboardEvenet) => {
    if (event.key === key) {
      cb();
    }
  };
  onMounted(() => {
    document.addEventListener("keydown", trigger);
  });
  onUnmounted(() => {
    document.removeEventListener("keydown", trigger);
  });
};

export default handleKeyEvent;
```

2. 在上面的`testComponents.vue`直接使用，如果不行，重启服务

```vue
<script lang="ts" setup>
// 自动导入 vue 和 nuxt 的内置函数
defineProps<{ message: string }>();
const num = ref(1);
const handlerNum = () => {
  num.value++;
  console.log("函数执行了，结果是---", num.value);
};
// 监听 j 键是否按下
handleKeyEvent("j", () => {
  console.log(num.value);
});
</script>
<template>
  <div class="container">
    <h1>测试 components 自动导入</h1>
    <h2>当前传入信息是-----{{ message }}</h2>
    <h2>当前传入数值是-----{{ num }}</h2>
    <button @click="handlerNum">增加</button>
  </div>
</template>
<style lang="scss" scoped></style>
```

## pages

一般在`pages文件夹`中放的是`路由文件`,你可以直接新建`xxx.vue`或者`xxx/index.vue`, `nuxt路由系统`会直接把`xxx`作为你的`路由路径`

### 新建路由组件

1. 使用`index.vue`作为`/`根路由组件

```vue
<script lang="ts" setup></script>
<template>
  <div class="container">首页</div>
</template>
<style lang="scss" scoped></style>
```

2. 其他路由组件
   新建`login.vue`,验证其路由是否是`/login`

```vue
<script lang="ts" setup></script>
<template>
  <div class="container">
    <h1>我是登录页</h1>
  </div>
</template>
<style lang="scss" scoped></style>
```

### 使用

在`app.vue`中使用`nuxtPage组件作为导航组件`

```vue
<script lang="ts" setup>
// 设置seo优化
useSeoMeta({
  title: "bilibili", // 标题
  description: "这是b站", // 描述
  keywords: "bilibili, 哔哩哔哩", // 关键词
});
</script>
<template>
  <div>
    <!-- 自定义测试components自动导入组件 -->
    <testComponents message="我是传过来的信息啊" />
    <!-- 路由 相当于vue的 routerview -->
    <NuxtPage />
  </div>
</template>
```

## 动态路由

例如`/users/[id]`中的`id`是动态，那么可以在`users下面`创建一个`[id].vue`,`[id]`中的`id`表示`动态id`,
如果还需要一个`/users`路由，那么就可以在`users文件夹`下添加一个`index.vue`作为`/users`的路由文件页面

### 新建路由

在`pages文件夹`下新建`users文件夹`

1. `index.vue`作为`/users`路由的页面

```vue

```

2. `[id].vue`作为`动态id页面路由`

```vue

```
