## 项目开始前

结合之前的知识，使用一个实例项目进行融合，使用`nuxt-ui`和`redis`、`mongoose`等等之前所学的东西

## 创建项目

```sh
npm create nuxt [项目名称]
```

## 下载依赖

```sh
# @nuxt/ui: UI框架
# nuxt-mongoose: 数据库
# zod: 数据校验
# jsonwebtoken: jwt
# @types/jsonwebtoken: jwt类型
# bcrypt: 密码加密
# @types/bcrypt: 密码加密类型
# pinia和@pinia/nuxt: pinia状态管理
# es-toolkit: 工具库
npm install @nuxt/ui nuxt-mongoose zod jsonwebtoken @types/jsonwebtoken bcrypt @types/bcrypt pinia @pinia/nuxt es-toolkit
```

## 环境变量文件(.env)

```sh
# nitro配置
## 端口: NITRO_PORT 或者 PORT, 默认是3000
NITRO_PORT=3000
## 主机: NITRO_HOST 或者 HOST, 默认是0.0.0.0
NITRO_HOST=0.0.0.0

# mongodb地址
MONGODB_URI=mongodb://127.0.0.1:27017/nuxt-mongoose
# redis信息
NUXT_REDIS_HOST=127.0.0.1
NUXT_REDIS_PORT=6379
# token信息
NUXT_TOKEN_EXPIRES_IN=3600 # 过期时间, 默认是秒，1h：1小时
NUXT_TOKEN_ALGORITHM=HS256 # 加密算法
NUXT_TOKEN_SECRET_OR_PRIVATE_KEY=tokenSecretOrPrivateKey # token密钥
# alioss配置
NUXT_ALIOSS_ACCESS_KEY_ID=你的AccessKeyId
NUXT_ALIOSS_ACCESS_KEY_SECRET=你的AccessKeySecret
NUXT_ALIOSS_BUCKET=你的阿里云oss新建的桶名
NUXT_ALIOSS_REGION=oss-cn-guangzhou # oss-cn-guangzhou这是我的服务器地
NUXT_ALIOSS_ENDPOINT=oss-cn-guangzhou.aliyuncs.com


```

## 导入 nuxtUI 样式和 tailwindcss

在`~/assets/css/main.css`中

```css
@import "tailwindcss";
@import "@nuxt/ui";
```

## 配置文件(nuxt.config.ts)

在配置文件中，会实现`导入模块`、`导入css`、`配置UI`、`路由配置`、`数据库配置`、`环境变量配置`等

```ts
// https://nuxt.com/docs/api/configuration/nuxt-config
export default defineNuxtConfig({
  compatibilityDate: "2025-05-15",
  devtools: { enabled: true },
  modules: ["@nuxt/ui", "nuxt-mongoose", "@pinia/nuxt"],
  css: ["~/assets/css/main.css"],
  // 配置UI
  ui: {
    fonts: false,
  },
  // 路由配置
  routeRules: {},
  // mongoose数据库, 所配置的uri在环境变量文件.env中
  mongoose: {},
  // 环境变量配置, 如果需要曝露给前端，则需要在public中
  runtimeConfig: {
    // 以下的token敏感信息都放在.env文件中
    // 通过驼峰法来匹配, 例如: aNameConst, .env中配置就是NUXT_A_NAME_CONST
    tokenExpiresIn: "", // 过期时间, 默认是秒，1h：1小时
    tokenAlgorithm: "", // 加密算法
    tokenSecretOrPrivateKey: "", // token密钥
    // redis配置
    redis: {
      host: "", // 主机地址
      port: 0, // 端口号
      password: "", // 密码
      db: 0, // 数据库
    },
    // 前后端都可用
    public: {},
  },
  // 可配置: devProxy代理、stor
  nitro: {
    // 添加redis, 也可以自定义添加，使用plugin在构建时添加
    // storage: {
    //   redis: {
    //     driver: 'redis', // 驱动类型
    //     host: '127.0.0.1', // 主机地址
    //     port: 6379, // 端口号
    //     password: '', // 密码
    //     db: 0 // 数据库
    //   }
    // }
  },
  // 国际化配置
  // i18n: {
  //   locales: [
  //     { code: 'zh_cn', name: 'Chinese', dir: 'auto' },
  //     { code: 'en', name: 'English', dir: 'auto' },
  //     // { code: 'fr', name: 'Français', dir: 'ltr' },
  //   ],
  //   defaultLocale: 'zh_cn'
  // },
});
```
