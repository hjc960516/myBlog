import{_ as a,c as s,o as i,a3 as e}from"./chunks/framework.F_gBKVsg.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep","prev":{"text":"npm的配置文件、install的原理、run的原理、npm生命周期、npx命令","link":"/node/npm"},"next":{"text":"模块化","link":"/node/modules"}},"headers":[],"relativePath":"node/npm-private.md","filePath":"node/npm-private.md"}'),t={name:"node/npm-private.md"},n=e('<h2 id="优势" tabindex="-1">优势 <a class="header-anchor" href="#优势" aria-label="Permalink to &quot;优势&quot;">​</a></h2><ul><li>可以离线使用，你可以将 npm 私服部署到内网集群，这样离线也可以访问私有的包</li><li>提高包的安全性，使用私有的 npm 仓库可以更好的管理你的包，避免在使用公共的 npm 包的时候出现漏洞</li><li>提高包的下载速度，使用私有 npm 仓库，你可以将经常使用的 npm 包缓存到本地，从而显著提高包的下载速度，减少依赖包的下载时间。 这对于团队内部开发和持续集成、部署等场景非常有用</li></ul><h2 id="搭建私有域" tabindex="-1">搭建私有域 <a class="header-anchor" href="#搭建私有域" aria-label="Permalink to &quot;搭建私有域&quot;">​</a></h2><h3 id="安装私有域依赖工具" tabindex="-1">安装私有域依赖工具 <a class="header-anchor" href="#安装私有域依赖工具" aria-label="Permalink to &quot;安装私有域依赖工具&quot;">​</a></h3><p>verdaccio 官网: <a href="https://www.verdaccio.org/zh-cn" target="_blank" rel="noreferrer">verdaccio.org/zh-cn</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verdaccio</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span></code></pre></div><h3 id="添加账号" tabindex="-1">添加账号 <a class="header-anchor" href="#添加账号" aria-label="Permalink to &quot;添加账号&quot;">​</a></h3><p>如果没有账号，输入该命令会有一个地址让你去注册</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adduser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxxx</span></span></code></pre></div><h3 id="登录" tabindex="-1">登录 <a class="header-anchor" href="#登录" aria-label="Permalink to &quot;登录&quot;">​</a></h3><p>登录前确保源是<code>https://registry.npmjs.org/</code>, 可用<code>npm get config -list</code>或者<code>npm get registry</code>查看<br> 如果不是，使用<code>npm set registry https://registry.npmjs.org/</code>切换</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> login</span></span></code></pre></div><h3 id="启动-verdaccio" tabindex="-1">启动 verdaccio <a class="header-anchor" href="#启动-verdaccio" aria-label="Permalink to &quot;启动 verdaccio&quot;">​</a></h3><p>可用<code>verdaccio --help</code>去查看命令<br> 启动后会有一个地址，后续需要发布的包的时候去使用</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">verdaccio</span></span></code></pre></div><h3 id="登录-verdaccio" tabindex="-1">登录 verdaccio <a class="header-anchor" href="#登录-verdaccio" aria-label="Permalink to &quot;登录 verdaccio&quot;">​</a></h3><p>如果 npm 没有登录过本地，那么需要把命令切换为<code>npm adduser --registry verdaccio启动的地址</code></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adduser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verdaccio启动的地址</span></span></code></pre></div><h3 id="发包" tabindex="-1">发包 <a class="header-anchor" href="#发包" aria-label="Permalink to &quot;发包&quot;">​</a></h3><p>在项目下终端输入命令<br></p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如果没添加<code>--registry verdaccio启动的地址</code>，那么包会发到 npm 官方库</p></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verdaccio启动的地址</span></span></code></pre></div><h3 id="下载包" tabindex="-1">下载包 <a class="header-anchor" href="#下载包" aria-label="Permalink to &quot;下载包&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包名</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verdaccio启动的地址</span></span></code></pre></div>',24),h=[n];function l(p,d,r,o,c,k){return i(),s("div",null,h)}const v=a(t,[["render",l]]);export{u as __pageData,v as default};
